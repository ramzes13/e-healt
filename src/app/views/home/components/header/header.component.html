<StackLayout class="header">
  <FlexboxLayout row="0">
    <Image src="~/assets/avatar.png" stretch="aspectFill" class="header__avatar" (tap)="showDrawer()"></Image>

    <FlexboxLayout class="header__details">
      <StackLayout class="name">
        <Label text="Welcome" class="name__message"></Label>
        <Label text="Cristian Cazacu" class="name__user"></Label>
      </StackLayout>

      <Label [text]="currentDate | date : 'mediumDate' : undefined : 'en-eu'" class="header__date"></Label>
    </FlexboxLayout>
  </FlexboxLayout>
  <StackLayout class="ai">
    <Label text="Synthesis of the latest analyses" class="ai__title"></Label>

    <Label
      *ngIf="latestDocumentData$ | async as latestDocumentData"
      [text]="latestDocumentData.description"
      textAlignment="center"
      textWrap="true"
    ></Label>

    <Label
      *ngIf="latestDocumentData$ | async as latestDocumentData"
      [text]="latestDocumentData.todo"
      textAlignment="center"
      textWrap="true"
      class="todo"
    ></Label>

    <Label [text]="'Medical appointments'" textAlignment="center" textWrap="true" class="ai__title"></Label>

    <Label
      *ngIf="latestDocumentData$ | async as latestDocumentData"
      [text]="latestDocumentData.medical_appointments.join(', ')"
      textAlignment="center"
      textWrap="true"
    ></Label>

    <Label [text]="'Extra tests'" textAlignment="center" textWrap="true" class="ai__title"></Label>

    <Label
      *ngIf="latestDocumentData$ | async as latestDocumentData"
      [text]="latestDocumentData.extra_tests.join(', ')"
      textAlignment="center"
      textWrap="true"
    ></Label>

    <FlexboxLayout class="ai__brand">
      <Image src="~/assets/ai.png" stretch="aspectFill" class="ai__logo" (tap)="showDrawer()"></Image>
      <Label text="generated by AI" class="ai__text"></Label>
    </FlexboxLayout>
  </StackLayout>
  <StackLayout class="search">
    <TextField hint="Search your appointment..." [formControl]="search" class="search__input" />
  </StackLayout>
</StackLayout>
